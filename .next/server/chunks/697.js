exports.id=697,exports.ids=[697],exports.modules={394:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,6133,23)),Promise.resolve().then(c.t.bind(c,6444,23)),Promise.resolve().then(c.t.bind(c,6042,23)),Promise.resolve().then(c.t.bind(c,9477,23)),Promise.resolve().then(c.t.bind(c,9345,23)),Promise.resolve().then(c.t.bind(c,2089,23)),Promise.resolve().then(c.t.bind(c,6577,23)),Promise.resolve().then(c.t.bind(c,1307,23)),Promise.resolve().then(c.t.bind(c,4817,23))},562:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,5227,23)),Promise.resolve().then(c.t.bind(c,6346,23)),Promise.resolve().then(c.t.bind(c,7924,23)),Promise.resolve().then(c.t.bind(c,99,23)),Promise.resolve().then(c.t.bind(c,8243,23)),Promise.resolve().then(c.t.bind(c,8827,23)),Promise.resolve().then(c.t.bind(c,2763,23)),Promise.resolve().then(c.t.bind(c,7173,23)),Promise.resolve().then(c.bind(c,5587))},1759:(a,b,c)=>{Promise.resolve().then(c.bind(c,9254)),Promise.resolve().then(c.bind(c,2701)),Promise.resolve().then(c.bind(c,4347))},2701:(a,b,c)=>{"use strict";c.d(b,{MusicPlayerProvider:()=>e});var d=c(1369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call MusicPlayerProvider() from the server but MusicPlayerProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/imsumandey/Desktop/Suman/PersonalProject/RainbowMedia/src/contexts/MusicPlayerContext.tsx","MusicPlayerProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useMusicPlayer() from the server but useMusicPlayer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/imsumandey/Desktop/Suman/PersonalProject/RainbowMedia/src/contexts/MusicPlayerContext.tsx","useMusicPlayer")},3139:()=>{},3635:(a,b,c)=>{"use strict";c.d(b,{Ny:()=>d,SP:()=>f,Vm:()=>e,ak:()=>g});let d={id:"user_1",username:"You",avatar:void 0},e={1:[{id:"comment_1",trackId:"1",userId:"user_2",username:"MusicLover2024",userAvatar:"https://i.pravatar.cc/150?img=1",text:"\uD83D\uDD25 This beat drops so hard! Been on repeat for hours",timestamp:Date.now()-36e5,likes:12,isLiked:!1},{id:"comment_2",trackId:"1",userId:"user_3",username:"BeatDropper",userAvatar:"https://i.pravatar.cc/150?img=2",text:"The production quality on this is insane! What a masterpiece \uD83C\uDFB5",timestamp:Date.now()-72e5,likes:8,isLiked:!0},{id:"comment_3",trackId:"1",userId:"user_4",username:"SoundWave",userAvatar:"https://i.pravatar.cc/150?img=3",text:"Perfect for my workout playlist! Gets me so pumped \uD83D\uDCAA",timestamp:Date.now()-108e5,likes:5,isLiked:!1}],2:[{id:"comment_4",trackId:"2",userId:"user_5",username:"RhythmMaster",userAvatar:"https://i.pravatar.cc/150?img=4",text:"Ed Sheeran never disappoints! This melody is pure gold ✨",timestamp:Date.now()-18e5,likes:15,isLiked:!0},{id:"comment_5",trackId:"2",userId:"user_6",username:"VibeSeeker",userAvatar:"https://i.pravatar.cc/150?img=5",text:"Such beautiful lyrics, makes me emotional every time \uD83D\uDE22❤️",timestamp:Date.now()-54e5,likes:9,isLiked:!1}],3:[{id:"comment_6",trackId:"3",userId:"user_2",username:"MusicLover2024",userAvatar:"https://i.pravatar.cc/150?img=1",text:"Dua Lipa absolutely killed it with this track! So catchy \uD83C\uDFB6",timestamp:Date.now()-9e5,likes:20,isLiked:!1},{id:"comment_7",trackId:"3",userId:"user_3",username:"BeatDropper",userAvatar:"https://i.pravatar.cc/150?img=2",text:"Dance floor anthem! This gets everyone moving \uD83D\uDC83\uD83D\uDD7A",timestamp:Date.now()-27e5,likes:11,isLiked:!0}]},f={1:{trackId:"1",isLiked:!0,likeCount:1234},2:{trackId:"2",isLiked:!1,likeCount:987},3:{trackId:"3",isLiked:!0,likeCount:1567},4:{trackId:"4",isLiked:!1,likeCount:543},5:{trackId:"5",isLiked:!1,likeCount:876},6:{trackId:"6",isLiked:!0,likeCount:432},7:{trackId:"7",isLiked:!1,likeCount:654},8:{trackId:"8",isLiked:!1,likeCount:789}},g=a=>{let b=Math.floor((Date.now()-a)/1e3),c=Math.floor(b/60),d=Math.floor(c/60),e=Math.floor(d/24);return e>0?`${e}d ago`:d>0?`${d}h ago`:c>0?`${c}m ago`:`${b}s ago`}},4347:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>e});var d=c(1369);(0,d.registerClientReference)(function(){throw Error("Attempted to call useThemeMode() from the server but useThemeMode is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/imsumandey/Desktop/Suman/PersonalProject/RainbowMedia/src/theme/ThemeProvider.tsx","useThemeMode");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/imsumandey/Desktop/Suman/PersonalProject/RainbowMedia/src/theme/ThemeProvider.tsx","ThemeProvider")},4431:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>h});var d=c(7413),e=c(9254),f=c(2701),g=c(4347);c(3139);let h={title:"RainbowMedia",description:"Your personal online music player"};function i({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{children:(0,d.jsx)(g.ThemeProvider,{children:(0,d.jsx)(e.CommentProvider,{children:(0,d.jsx)(f.MusicPlayerProvider,{children:a})})})})})}},4887:(a,b,c)=>{Promise.resolve().then(c.bind(c,8944)),Promise.resolve().then(c.bind(c,9415)),Promise.resolve().then(c.bind(c,8955))},5021:(a,b,c)=>{"use strict";c.d(b,{S:()=>d,a:()=>e});let d=[{id:"1",title:"Blinding Lights",artist:"The Weeknd",album:"After Hours",duration:200,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",genre:"Pop"},{id:"2",title:"Shape of You",artist:"Ed Sheeran",album:"\xf7 (Divide)",duration:233,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ba5db46f4b838ef6027e6f96",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",genre:"Pop"},{id:"3",title:"Levitating",artist:"Dua Lipa",album:"Future Nostalgia",duration:203,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",genre:"Pop"},{id:"4",title:"Good 4 U",artist:"Olivia Rodrigo",album:"SOUR",duration:178,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3",genre:"Pop Rock"},{id:"5",title:"Stay",artist:"The Kid LAROI, Justin Bieber",album:"F*CK LOVE 3: OVER YOU",duration:141,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",genre:"Hip Hop"},{id:"6",title:"Bad Habits",artist:"Ed Sheeran",album:"= (Equals)",duration:230,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3",genre:"Pop"},{id:"7",title:"Positions",artist:"Ariana Grande",album:"Positions",duration:172,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3",genre:"R&B"},{id:"8",title:"Watermelon Sugar",artist:"Harry Styles",album:"Fine Line",duration:174,coverUrl:"https://i.scdn.co/image/ab67616d0000b273ef5d0edc0e22620a2f2c7b2f",audioUrl:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3",genre:"Pop Rock"}],e=a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`}},8944:(a,b,c)=>{"use strict";c.d(b,{CommentProvider:()=>j,_:()=>k});var d=c(687),e=c(3210),f=c(3635);let g={comments:f.Vm,trackLikes:f.SP,isCommentsOpen:!1,currentTrackId:null},h=(a,b)=>{switch(b.type){case"OPEN_COMMENTS":return{...a,isCommentsOpen:!0,currentTrackId:b.payload.trackId};case"CLOSE_COMMENTS":return{...a,isCommentsOpen:!1,currentTrackId:null};case"ADD_COMMENT":{let{trackId:c,comment:d}=b.payload;return{...a,comments:{...a.comments,[c]:[d,...a.comments[c]||[]]}}}case"LIKE_COMMENT":{let{commentId:c,trackId:d}=b.payload,e=(a.comments[d]||[]).map(a=>a.id===c?{...a,isLiked:!a.isLiked,likes:a.isLiked?a.likes-1:a.likes+1}:a);return{...a,comments:{...a.comments,[d]:e}}}case"LIKE_TRACK":{let{trackId:c}=b.payload,d=a.trackLikes[c]||{trackId:c,isLiked:!1,likeCount:0};return{...a,trackLikes:{...a.trackLikes,[c]:{...d,isLiked:!d.isLiked,likeCount:d.isLiked?d.likeCount-1:d.likeCount+1}}}}default:return a}},i=(0,e.createContext)(void 0),j=({children:a})=>{let[b,c]=(0,e.useReducer)(h,g),j=(0,e.useCallback)(a=>{c({type:"OPEN_COMMENTS",payload:{trackId:a}})},[]),k=(0,e.useCallback)(()=>{c({type:"CLOSE_COMMENTS"})},[]),l=(0,e.useCallback)((a,b)=>{let d={id:`comment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,trackId:a,userId:f.Ny.id,username:f.Ny.username,userAvatar:f.Ny.avatar,text:b.trim(),timestamp:Date.now(),likes:0,isLiked:!1};c({type:"ADD_COMMENT",payload:{trackId:a,comment:d}})},[]),m=(0,e.useCallback)((a,b)=>{c({type:"LIKE_COMMENT",payload:{commentId:a,trackId:b}})},[]),n=(0,e.useCallback)(a=>{c({type:"LIKE_TRACK",payload:{trackId:a}})},[]),o=(0,e.useCallback)(a=>b.comments[a]||[],[b.comments]),p=(0,e.useCallback)(a=>b.trackLikes[a]||{trackId:a,isLiked:!1,likeCount:0},[b.trackLikes]);return(0,d.jsx)(i.Provider,{value:{state:b,openComments:j,closeComments:k,addComment:l,likeComment:m,likeTrack:n,getTrackComments:o,getTrackLike:p},children:a})},k=()=>{let a=(0,e.useContext)(i);if(!a)throw Error("useComments must be used within a CommentProvider");return a}},8955:(a,b,c)=>{"use strict";c.d(b,{ThemeProvider:()=>q,e:()=>p});var d=c(687),e=c(8106),f=c(2288),g=c(3210),h=c(1052);let i={primary:{50:"#f3f0ff",100:"#e5dbff",200:"#d0bfff",300:"#b197fc",400:"#9775ff",500:"#7d52ea",600:"#6033e6",700:"#4a28b8",800:"#3b1f9a",900:"#2d1b69"},secondary:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a78bfa",600:"#8b5cf6",700:"#7c3aed",800:"#6d28d9",900:"#581c87"},success:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b"},warning:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},error:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},info:{50:"#f0fdff",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63"},gray:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},darkGray:{50:"#000000",100:"#121212",200:"#1e1e1e",300:"#333333",400:"#4d4d4d",500:"#666666",600:"#808080",700:"#999999",800:"#b3b3b3",900:"#cccccc"}},j={mode:"light",primary:{main:i.primary[600],light:i.primary[500],dark:i.primary[700],contrastText:"#ffffff"},secondary:{main:i.secondary[700],light:i.secondary[600],dark:i.secondary[800],contrastText:"#ffffff"},success:{main:i.success[600],light:i.success[400],dark:i.success[700]},warning:{main:i.warning[500],light:i.warning[400],dark:i.warning[600]},error:{main:i.error[500],light:i.error[400],dark:i.error[600]},info:{main:i.info[500],light:i.info[400],dark:i.info[600]},background:{default:i.gray[50],paper:"#ffffff"},text:{primary:i.gray[800],secondary:i.gray[500]},divider:i.gray[200],grey:i.gray},k={mode:"dark",primary:{main:i.primary[500],light:i.primary[400],dark:i.primary[600],contrastText:"#ffffff"},secondary:{main:i.secondary[600],light:i.secondary[500],dark:i.secondary[700],contrastText:"#ffffff"},success:{main:i.success[600],light:i.success[400],dark:i.success[700]},warning:{main:i.warning[500],light:i.warning[400],dark:i.warning[600]},error:{main:i.error[500],light:i.error[400],dark:i.error[600]},info:{main:i.info[500],light:i.info[400],dark:i.info[600]},background:{default:i.darkGray[50],paper:i.darkGray[100]},text:{primary:"#ffffff",secondary:i.darkGray[800],disabled:i.darkGray[500]},divider:i.darkGray[300],action:{hover:"rgba(255, 255, 255, 0.08)",selected:"rgba(255, 255, 255, 0.12)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"},grey:i.darkGray},l={typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:700},h2:{fontWeight:600},h3:{fontWeight:600},h4:{fontWeight:600},h5:{fontWeight:500},h6:{fontWeight:500},button:{textTransform:"none",fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontSize:"0.95rem",fontWeight:500,padding:"8px 16px"},contained:{boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"}},outlined:{borderWidth:"1.5px","&:hover":{borderWidth:"1.5px"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"none",borderBottom:"1px solid",borderColor:"divider"}}},MuiToolbar:{styleOverrides:{root:{minHeight:"64px !important",paddingLeft:"16px !important",paddingRight:"16px !important"}}},MuiIconButton:{styleOverrides:{root:({theme:a})=>({borderRadius:8,padding:10,"&:hover":{backgroundColor:"dark"===a.palette.mode?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.04)"}})}},MuiCard:{styleOverrides:{root:({theme:a})=>({borderRadius:16,boxShadow:"dark"===a.palette.mode?"0 2px 8px rgba(255, 255, 255, 0.05)":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)","&:hover":{boxShadow:"dark"===a.palette.mode?"0 4px 12px rgba(255, 255, 255, 0.08)":"0 4px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)"}})}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:10}}}},MuiBottomNavigation:{styleOverrides:{root:{height:80,paddingTop:8,paddingBottom:8}}},MuiBottomNavigationAction:{styleOverrides:{root:({theme:a})=>({minWidth:"auto","& .MuiBottomNavigationAction-label":{fontWeight:"bold",fontSize:"0.75rem",marginTop:"4px","&.Mui-selected":{fontWeight:"bold",fontSize:"0.8rem",color:"dark"===a.palette.mode?a.palette.primary.light:a.palette.primary.main}},"& .MuiBox-root":{width:"25px",height:"25px"},"&.Mui-selected":{"& .MuiSvgIcon-root":{color:"dark"===a.palette.mode?a.palette.primary.light:a.palette.primary.main}}})}}}},m=(0,h.A)({...l,palette:j}),n=(0,h.A)({...l,palette:k}),o=(0,g.createContext)(void 0),p=()=>{let a=(0,g.useContext)(o);if(!a)throw Error("useThemeMode must be used within a ThemeProvider");return a},q=({children:a})=>{let[b,c]=(0,g.useState)("light"),[h,i]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{let a=localStorage.getItem("theme-mode");("light"===a||"dark"===a)&&c(a),i(!0)},[]),(0,g.useEffect)(()=>{},[h]),(0,d.jsx)(o.Provider,{value:{mode:b,toggleTheme:()=>{let a="light"===b?"dark":"light";c(a),localStorage.setItem("theme-mode",a)}},children:(0,d.jsxs)(e.A,{theme:"light"===b?m:n,children:[(0,d.jsx)(f.Ay,{}),a]})})}},9254:(a,b,c)=>{"use strict";c.d(b,{CommentProvider:()=>e});var d=c(1369);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call CommentProvider() from the server but CommentProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/imsumandey/Desktop/Suman/PersonalProject/RainbowMedia/src/contexts/CommentContext.tsx","CommentProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useComments() from the server but useComments is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/imsumandey/Desktop/Suman/PersonalProject/RainbowMedia/src/contexts/CommentContext.tsx","useComments")},9415:(a,b,c)=>{"use strict";c.d(b,{MusicPlayerProvider:()=>k,o:()=>l});var d=c(687),e=c(3210),f=c.n(e),g=c(5021);let h={currentTrack:null,isPlaying:!1,isLoading:!1,isBuffering:!1,currentTime:0,duration:0,volume:1,isShuffled:!1,isRepeated:!1,queue:g.S,currentIndex:-1},i=(a,b)=>{switch(b.type){case"SET_CURRENT_TRACK":return{...a,currentTrack:b.payload.track,queue:b.payload.queue,currentIndex:b.payload.index,currentTime:0,isPlaying:!1};case"SET_PLAYING":return{...a,isPlaying:b.payload};case"SET_LOADING":return{...a,isLoading:b.payload};case"SET_BUFFERING":return{...a,isBuffering:b.payload};case"SET_CURRENT_TIME":return{...a,currentTime:b.payload};case"SET_DURATION":return{...a,duration:b.payload};case"SET_VOLUME":return{...a,volume:b.payload};case"TOGGLE_SHUFFLE":return{...a,isShuffled:!a.isShuffled};case"TOGGLE_REPEAT":return{...a,isRepeated:!a.isRepeated};case"NEXT_TRACK":{let b=a.currentIndex<a.queue.length-1?a.currentIndex+1:0;return{...a,currentIndex:b,currentTrack:a.queue[b],currentTime:0}}case"PREVIOUS_TRACK":{let b=a.currentIndex>0?a.currentIndex-1:a.queue.length-1;return{...a,currentIndex:b,currentTrack:a.queue[b],currentTime:0}}default:return a}},j=(0,e.createContext)(void 0),k=({children:a})=>{let[b,c]=(0,e.useReducer)(i,h),[k,l]=f().useState("closed"),m=(0,e.useRef)(null),n=(0,e.useCallback)(()=>{b.queue.length>0&&c({type:"NEXT_TRACK"})},[b.queue.length]),o=(0,e.useCallback)(()=>{b.queue.length>0&&c({type:"PREVIOUS_TRACK"})},[b.queue.length]);return(0,e.useEffect)(()=>{let a=m.current;if(!a)return;let d=()=>{c({type:"SET_CURRENT_TIME",payload:a.currentTime})},e=()=>{c({type:"SET_DURATION",payload:a.duration||0})},f=()=>{c({type:"SET_LOADING",payload:!0}),c({type:"SET_BUFFERING",payload:!1})},g=()=>{if(c({type:"SET_LOADING",payload:!1}),c({type:"SET_BUFFERING",payload:!1}),b.currentTrack){let b=a.play();void 0!==b&&b.then(()=>{c({type:"SET_PLAYING",payload:!0})}).catch(a=>{console.warn("Autoplay prevented by browser:",a),c({type:"SET_PLAYING",payload:!1})})}},h=()=>{c({type:"SET_BUFFERING",payload:!0})},i=()=>{c({type:"SET_BUFFERING",payload:!1}),c({type:"SET_LOADING",payload:!1})},j=()=>{b.isRepeated?(a.currentTime=0,a.play()):n()},k=()=>{c({type:"SET_LOADING",payload:!1}),c({type:"SET_BUFFERING",payload:!1}),c({type:"SET_PLAYING",payload:!1}),console.error("Audio loading failed")};return a.addEventListener("timeupdate",d),a.addEventListener("durationchange",e),a.addEventListener("loadstart",f),a.addEventListener("canplay",g),a.addEventListener("waiting",h),a.addEventListener("playing",i),a.addEventListener("ended",j),a.addEventListener("error",k),()=>{a.removeEventListener("timeupdate",d),a.removeEventListener("durationchange",e),a.removeEventListener("loadstart",f),a.removeEventListener("canplay",g),a.removeEventListener("waiting",h),a.removeEventListener("playing",i),a.removeEventListener("ended",j),a.removeEventListener("error",k)}},[b.isRepeated,b.currentTrack,n]),(0,e.useEffect)(()=>{let a=m.current;a&&b.currentTrack&&!b.isLoading&&(b.isPlaying&&a.paused?a.play().catch(console.error):b.isPlaying||a.paused||a.pause())},[b.isPlaying,b.currentTrack,b.isLoading]),(0,e.useEffect)(()=>{let a=m.current;a&&b.currentTrack&&(a.src=b.currentTrack.audioUrl,a.preload="auto",a.load())},[b.currentTrack]),(0,d.jsxs)(j.Provider,{value:{state:b,drawerState:k,setDrawerState:l,playTrack:(a,b)=>{let d=b||g.S,e=d.findIndex(b=>b.id===a.id);c({type:"SET_CURRENT_TRACK",payload:{track:a,queue:d,index:e}}),c({type:"SET_LOADING",payload:!0}),l("mini")},pauseTrack:()=>{c({type:"SET_PLAYING",payload:!1})},resumeTrack:()=>{c({type:"SET_PLAYING",payload:!0})},nextTrack:n,previousTrack:o,seekTo:a=>{m.current&&(m.current.currentTime=a,c({type:"SET_CURRENT_TIME",payload:a}))},setVolume:a=>{m.current&&(m.current.volume=a,c({type:"SET_VOLUME",payload:a}))},toggleShuffle:()=>{c({type:"TOGGLE_SHUFFLE"})},toggleRepeat:()=>{c({type:"TOGGLE_REPEAT"})},audioRef:m},children:[a,(0,d.jsx)("audio",{ref:m,preload:"auto",crossOrigin:"anonymous"})]})},l=()=>{let a=(0,e.useContext)(j);if(!a)throw Error("useMusicPlayer must be used within a MusicPlayerProvider");return a}}};